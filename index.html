<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3-Page Invitation Reveal</title>
<style>
  html,body{height:100%}
  body{
    margin:0; overflow:hidden; color:#5b4310;
    font-family:'Segoe UI','Helvetica Neue',Arial,sans-serif;
    background: radial-gradient(at 65% 10%, #f3e9db 0%, #faeee0 78%);
  }
  #scene{position:relative; width:100vw; height:100vh; min-height:560px}

  /* Page containers */
  .page{
    position:absolute; inset:0;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    opacity:0; transform:scale(.985); pointer-events:none;
    transition:opacity .55s ease, transform .6s cubic-bezier(.23,1.2,.38,.99);
    padding:16px 16px calc(26px + env(safe-area-inset-bottom));
    gap:14px;
  }
  .page.active{opacity:1; transform:scale(1); pointer-events:auto}

  /* Local hint that appears AFTER the main block on each page */
  .hint-local{
    pointer-events:none; /* don't block taps */
    font-size:clamp(12px,3.2vw,14px);
    color:#5b4310; opacity:.92;
    background:rgba(255,255,255,.7);
    padding:.55rem .9rem; border-radius:999px;
    box-shadow:0 6px 24px rgba(0,0,0,.08);
    backdrop-filter:saturate(120%) blur(6px);
  }

  /* Save-the-Date box (centered) */
  .dateBadge{
    inline-size:min(84vw, 520px);
    aspect-ratio: 16/10;
    display:grid; place-items:center; gap:10px; text-align:center;
    background:
      radial-gradient(120% 85% at 50% -10%, #ffffff, #ffffff00 70%),
      linear-gradient(180deg, #fffdf8, #f7ecd9 70%);
    border:2px solid #dabb61; border-radius:18px;
    box-shadow:0 16px 60px rgba(159,121,26,.22), 0 8px 26px rgba(159,121,26,.20);
    padding:22px; animation:badgeIn .6s ease-out both;
  }
  @keyframes badgeIn{from{opacity:0; transform:scale(.98)} to{opacity:1; transform:scale(1)}}
  .stack{display:grid; place-items:center; gap:8px}
  .saveTitle{margin:0; font-weight:800; color:#4c3a0f; font-size:clamp(20px,5.8vw,36px)}
  .weekday{font-weight:700; color:#7a5c16}
  .num{font-size:clamp(56px,12vw,82px); font-weight:900; color:#2d2d2d; text-shadow:0 3px 0 #f0d999}
  .month{display:block; letter-spacing:5px; font-weight:800}
  .year{font-weight:800; color:#6b5318}
  .bottom{font-size:14px; opacity:.85; margin-top:4px}

  /* Small card boxes (your sizing) */
  .cardbox{
    transform:scale(.70) rotate(-1deg);
    max-width:85vw; max-height:62vh; opacity:0;
    padding:5px; background:#fff; border-radius:16px; border:2px solid #dabb6199;
    box-shadow:0 11px 24px #d4b35222, 0 6px 26px #d4b35244;
    display:flex; align-items:center; justify-content:center; box-sizing:border-box;
    transition:opacity 1.1s cubic-bezier(.71,-0.14,.45,1.3), transform 1.1s cubic-bezier(.23,1.2,.38,.99);
  }
  .cardbox.visible{opacity:1; transform:scale(1) rotate(.3deg); animation:pop .45s 1 cubic-bezier(.53,1.62,.63,.89)}
  .cardbox img{display:block; max-width:80vw; max-height:57vh; width:auto; height:auto; border-radius:14px; box-shadow:0 0 18px #fbeecd33}
  @media (max-width:800px){ .cardbox{max-width:97vw;} .cardbox img{max-width:94vw; max-height:41vh;} }
  @keyframes pop{0%{transform:scale(.88)}70%{transform:scale(1.08)}100%{transform:scale(1)}}

  /* Confetti/hearts layer */
  .confetti{position:fixed; inset:0; pointer-events:none; z-index:22}
  .heart{position:absolute; font-size:14px; line-height:1; filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}
</style>
</head>
<body>
  <div id="scene" aria-label="Tap to continue">

    <!-- PAGE 1 -->
    <section class="page active" data-page="1">
      <div class="dateBadge">
        <div class="stack">
          <h1 class="saveTitle">Save the Date</h1>
          <div class="weekday">Thursday</div>
          <div>
            <div class="num">20</div>
            <span class="month">N O V</span>
            <div class="year">2025</div>
          </div>
          <div class="bottom">Reception 06:30 pm • Dinner 07:30 pm</div>
        </div>
      </div>
      <div class="hint-local">Tap to continue • 1/3</div>
    </section>

    <!-- PAGE 2 -->
    <section class="page" data-page="2">
      <div class="cardbox" id="coverBox">
        <img src="2ed1a3f5-7912-4d8c-86f7-6c94ff6c5377.jpg" alt="Cover"/>
      </div>
      <div class="hint-local">Tap to open the invitation • 2/3</div>
    </section>

    <!-- PAGE 3 -->
    <section class="page" data-page="3">
      <div class="cardbox" id="mainBox">
        <img src="33333.jpeg" alt="Invitation Card"/>
      </div>
      <div class="hint-local">Tap to replay • 3/3</div>
    </section>

    <!-- Global confetti/hearts layer -->
    <div class="confetti" id="confetti"></div>
  </div>

<script>
  const pages = [...document.querySelectorAll('.page')];
  const confettiLayer = document.getElementById('confetti');
  const coverBox = document.getElementById('coverBox');
  const mainBox  = document.getElementById('mainBox');
  let page = 1;

  function show(n){
    page = n;
    pages.forEach(p => p.classList.toggle('active', +p.dataset.page === page));
    if(page===1){ rain(200, 1300); }
    if(page===2){ requestAnimationFrame(()=>coverBox.classList.add('visible')); rain(220, 1500); }
    if(page===3){ requestAnimationFrame(()=>mainBox.classList.add('visible'));  rain(240, 1600); }
  }

  function next(){
    if(page<3){ show(page+1); }
    else{
      coverBox.classList.remove('visible');
      mainBox.classList.remove('visible');
      confettiLayer.innerHTML = '';
      show(1);
    }
  }

  // Whole screen is the tap target (click + touch)
  const sc = document.getElementById('scene');
  sc.addEventListener('click', next);
  sc.addEventListener('touchend', (e)=>{ e.preventDefault(); next(); }, {passive:false});

  rain(200, 1300); // initial

  /* Confetti + hearts (reduced) */
  function rain(count=200, duration=1300){
    const colors = ['#FFD700','#F6D366','#FFB4A2','#ffc561','#eae2b7','#e9c46a','#be94a7'];
    const heartColors = ['#ff6b6b','#ff8787','#ff4d6d'];
    const start = performance.now();
    let spawned = 0, perMs = count / duration;

    function loop(now){
      const elapsed = now - start;
      if(elapsed > duration) return;
      const need = Math.floor(elapsed * perMs) - spawned;

      for(let i=0;i<need;i++){
        spawned++;
        const isHeart = Math.random() < 0.2;

        if(isHeart){
          const h = document.createElement('div');
          h.className = 'heart';
          h.textContent = '❤';
          h.style.color = heartColors[(Math.random()*heartColors.length)|0];
          h.style.left = (Math.random()*100)+'vw';
          h.style.top = '-6vh';
          const size = 12 + Math.random()*10;
          h.style.fontSize = size+'px';
          const fall = 2 + Math.random()*2.2;
          const drift = (Math.random()*2-1)*18;
          h.style.transition = `transform ${fall}s cubic-bezier(.25,.8,.25,1), opacity ${fall}s linear`;
          h.style.opacity = '0.95';
          confettiLayer.appendChild(h);
          requestAnimationFrame(()=>{
            h.style.transform = `translate(${drift}vw, 94vh) rotate(${(Math.random()*30-15)}deg)`;
            h.style.opacity = '0';
          });
          setTimeout(()=> h.remove(), fall*1000 + 200);
        } else {
          const d = document.createElement('div');
          d.style.position='absolute';
          d.style.left=(Math.random()*100)+'vw';
          d.style.top='-8vh';
          const s = (6 + Math.random()*7);
          d.style.width=d.style.height=s+'px';
          d.style.borderRadius=(Math.random()>.5?'50%':'3px');
          d.style.background=colors[(Math.random()*colors.length)|0];
          d.style.transform=`rotate(${Math.random()*360}deg)`;
          d.style.opacity='0.86';
          const fall = 2 + Math.random()*2.2;
          const drift = (Math.random()*2-1)*20;
          d.style.transition = `transform ${fall}s cubic-bezier(.25,.8,.25,1), opacity ${fall}s linear`;
          confettiLayer.appendChild(d);
          requestAnimationFrame(()=>{
            d.style.transform = `translate(${drift}vw, 94vh) rotate(${540+Math.random()*360}deg)`;
            d.style.opacity = '0';
          });
          setTimeout(()=> d.remove(), fall*1000 + 200);
        }
      }
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  }
</script>
</body>
</html>
